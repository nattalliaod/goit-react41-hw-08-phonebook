"use strict";(self.webpackChunkgoit_react41_hw_08_phonebook=self.webpackChunkgoit_react41_hw_08_phonebook||[]).push([[71],{71:function(n,e,t){t.r(e),t.d(e,{default:function(){return U}});var r,a,i,o,s,c,u,d=t(885),l=t(7375),p=t(2791),x=t(6140),m=t(3309),h=t(3329),f=function(){var n=(0,p.useState)(""),e=(0,d.Z)(n,2),t=e[0],r=e[1],a=(0,p.useState)(""),i=(0,d.Z)(a,2),o=i[0],s=i[1],c=(0,l.Tn)(),u=(0,d.Z)(c,2),f=u[0],g=u[1].error,b=(0,l.Jx)().data;(0,p.useEffect)((function(){g&&x.Am.error("".concat(g.status," ").concat(g.data.msg))}),[g]);var j=function(){r(""),s("")};return(0,h.jsxs)(m.TO,{onSubmit:function(n){if(n.preventDefault(),b.map((function(n){return n.name})).includes(t))return x.Am.error("".concat(t," is already in contacts")),void j();f({name:t,number:o}),j(),x.Am.success("Contact has been added")},children:[(0,h.jsxs)(m.m0,{children:["Name",(0,h.jsx)(m.O6,{type:"text",name:"name",value:t,onChange:function(n){return r(n.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,h.jsxs)(m.m0,{children:["Number",(0,h.jsx)(m.O6,{type:"tel",name:"number",value:o,onChange:function(n){return s(n.target.value)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,h.jsx)(m.UX,{type:"submit",children:"Add contact"})]})},g=t(5048),b=function(n){return n.filter.value},j=t(1634),v=function(){var n=(0,g.I0)();return{value:(0,g.v9)(b),filterContact:function(e){return n((0,j.W1)(e))}}},Z=t(168),A=t(1223),C=A.Z.label(r||(r=(0,Z.Z)(["\ndisplay: flex;\n  flex-direction: column;\n  width: 400px;\n  font-weight: 500;\n  margin: auto;\n  margin-bottom: 15px;\n"]))),y=A.Z.input(a||(a=(0,Z.Z)(["\npadding: 10px 20px;\n  border: 1px solid blueviolet;\n  background-color: lightgray;\n  border-radius: 5px;\n  :focus {\n  outline: transparent;\n  border: 1px solid blue;\n}\n"]))),k=function(){var n=v(),e=n.value,t=n.filterContact;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(C,{children:["Find contacts by name",(0,h.jsx)(y,{type:"text",name:"filter",value:e,onChange:function(n){return t(n.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})})},w=t(6871),z=t(7425),F=t(3853),M=t(7492),_=t(6467),N=t(7974),O=function(n){var e=n.id,t=n.name,r=n.number,a=(0,w.s0)(),i=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,p.useState)(n),t=(0,d.Z)(e,2),r=t[0],a=t[1];return{isModalOpen:r,openModal:function(){return a(!0)},closeModal:function(){return a(!1)}}}(),o=i.isModalOpen,s=i.openModal,c=i.closeModal,u=(0,l.Nt)(),m=(0,d.Z)(u,2),f=m[0],g=m[1].isLoading;return(0,p.useEffect)((function(){g&&(0,x.Am)("Contact deleting...")}),[g]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(_.Kd,{children:[t,":"]}),(0,h.jsx)(_.kL,{href:"tel:".concat(r),children:r}),(0,h.jsx)(_.AI,{type:"button",onClick:function(){a("/contacts/".concat(e),s())},children:(0,h.jsx)(F.Nte,{})}),(0,h.jsx)(_.AI,{type:"button",onClick:function(){return f(e)},disabled:g,children:g?(0,h.jsx)(M.$,{width:10,height:10}):(0,h.jsx)(z.GnT,{})}),o&&(0,h.jsx)(N.v,{onEdit:c})]})},E=A.Z.ul(i||(i=(0,Z.Z)(["\nwidth: 500px;\n  text-align: center;\n  margin: auto;\n"]))),J=A.Z.li(o||(o=(0,Z.Z)(["\ndisplay: flex;\n  justify-content: space-between;\n  align-items: center;\n  border: 1px solid #0e0e5a;\n  border-radius: 5px;\n  margin: 3px;\n  padding: 7px;\n"]))),S=function(){var n=(0,l.Jx)(),e=n.data,t=n.isFetching,r=n.error,a=v().value;return(0,p.useEffect)((function(){r&&x.Am.error("".concat(r.status," ").concat(r.data.msg))}),[r]),(0,h.jsxs)(h.Fragment,{children:[t&&(0,h.jsx)(M.$,{}),(0,h.jsx)(E,{children:e&&e.filter((function(n){return n.name.toUpperCase().includes(a.toUpperCase())})).map((function(n){var e=n.id,t=n.name,r=n.number;return(0,h.jsx)(J,{children:(0,h.jsx)(O,{id:e,name:t,number:r})},e)}))})]})},$=A.Z.section(s||(s=(0,Z.Z)(["\n  max-width: 1200px;\n  margin: 0 auto;\n  padding-right: 15px;\n  padding-left: 15px;\n"]))),q=function(n){var e=n.children;return(0,h.jsx)($,{children:e})},I=A.Z.h1(c||(c=(0,Z.Z)(["\n margin-bottom: 15px;\n  margin-top: 20px;\n  text-align: center;\n  color: #073963;\n"]))),T=A.Z.h2(u||(u=(0,Z.Z)(["\n  margin-top: 25px;\n  text-align: center;\n  color: #073963;\n"]))),U=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(q,{children:[(0,h.jsx)(I,{children:"Phonebook"}),(0,h.jsx)(f,{})]}),(0,h.jsxs)(q,{children:[(0,h.jsx)(T,{children:"Contacts"}),(0,h.jsx)(k,{}),(0,h.jsx)(S,{})]})]})}}}]);
//# sourceMappingURL=71.20ad30e8.chunk.js.map